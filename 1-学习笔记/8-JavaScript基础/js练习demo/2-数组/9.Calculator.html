<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        // function Calculator() {

        //     this.methods = {
        //         "-": (a, b) => a - b,
        //         "+": (a, b) => a + b
        //     };

        //     this.calculate = function (str) {
        //         let split = str.split(' '),
        //             a = +split[0],
        //             op = split[1],
        //             b = +split[2];
        //         if (!this.methods[op] || isNaN(a) || isNaN(b)) {
        //             return NaN;
        //         }
        //         return this.methods[op](a, b);
        //     };

        //     // this.addMethod = function (name, func) {
        //     //     this.methods[name] = func;
        //     // };
        // }
        
        // let powerCalc = new Calculator;
        // powerCalc.addMethod("*", (a, b) => a * b);
        // powerCalc.addMethod("/", (a, b) => a / b);
        // powerCalc.addMethod("**", (a, b) => a ** b);

        // let result = powerCalc.calculate("2 ** 3");
        // console.log(result); // 8
        function Calculator() {
            this.methods = {
                "+": (a, b) => a + b,
                "-": (a, b) => a - b
            }

            this.calculate = function (str) {
                let split = str.split(' '),
                    a = +split[0],
                    op = split[1],
                    b = +split[2];
                if (!this.methods[op] || isNaN(a) || isNaN(b)) {
                    return NaN;
                }
                return this.methods[op](a, b);
            }

            this.addMethod = function (name, func) {
                this.methods[name] = func;
            }
        }
        let calc = new Calculator;
        console.log("2 + 4 = " + calc.calculate("2 + 4"));

        let powerCalc = new Calculator;
        powerCalc.addMethod("*", (a, b) => a * b);
        powerCalc.addMethod("/", (a, b) => a / b);
        powerCalc.addMethod("**", (a, b) => a ** b);
        console.log("4 * 5 = " + powerCalc.calculate("4 * 5"));
        console.log("10 / 5 = " + powerCalc.calculate("10 / 5"));
        console.log("2 ** 4 = " + powerCalc.calculate("2 ** 4"));
    </script>
</body>

</html>