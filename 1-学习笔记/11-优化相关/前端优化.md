<font size=2 face="微软雅黑">

## 优化

### 1、减少HTTP请求数
每个请求都是有成本的，既包 含时间成本也包含资源成本。
1. 时间成本：一个完整的请求都需要经过DNS寻址、与服务器建立连接、发送数据、等待服务器响应、接收数据这样一个“漫长”而复杂的过程。
2. 资源成本：由于浏览器进行并发请求的请求数是有上限的，因此请求数多了以后，浏览器需要分批进行请求，因此会增加用户的等待时间。

**减少请求的方法：**
1. 从设计实现层面简化页面
> 如果你的页面像百度首页一样简单，那么接下来的规则基本上都用不着了。保持页面简洁、减少资源的使用时最直接的。如果不是这样，你的页面需要华丽的皮肤，则继续阅读下面的内容。

2. 合理设置HTTP缓存
> 缓存的力量是强大的，恰当的缓存设置可以大大的减少 `HTTP` 请求。以有啊首页为例，当浏览器没有缓存的时候访问一共会发出78个请求，共600多K 数据，而当第二次访问即浏览器已缓存之后访问则仅有10个请求，共20多K数据。<br>
> （这里需要说明的是，如果直接F5刷新页面 的话效果是不一样的，这种情况下请求数还是一样，不过被缓存资源的请求服务器是304响应，只有 `Header` 没有 `Body` ，可以节省带宽）<br>
> 怎样才算合理设置？原则很简单，能缓存越多越好，能缓存越久越好。例如，很少变化的图片资源可以直接通过 `HTTP Header` 中的 `Expires` 设置一个很长的过期头；变化不频繁而又可能会变的资源可以使用 `Last-Modifed` 来做请求验证。尽可能的让资源能够 在缓存中待得更久。

3. 资源合并与压缩
> 如果可以的话，尽可能的将外部的脚本、样式进行合并，多个合为一个。另外，CSS、Javascript、Image都可以用相应的工具进行压缩，压缩后往往能省下不少空间。

4. CSS Sprites
> 合并CSS图片，减少请求数的又一个好办法。

5. 图片懒加载（Lazy Load Images）
> 这条策略实际上并不一定能减少HTTP请求数，但是却能在某些条件下或者页面刚加载时减少HTTP请求数。对于图片而言，在页面刚加载的时候可以只 加载第一屏，当用户继续往后滚屏的时候才加载后续的图片。这样一来，假如用户只对第一屏的内容感兴趣时，那剩余的图片请求就都节省了。有啊首页曾经的做法 是在加载的时候把第一屏之后的图片地址缓存在Textarea标签中，待用户往下滚屏的时候才“惰性”加载。

[图片懒加载示例](../../../../2-知识点整理.md/#28图片懒加载)